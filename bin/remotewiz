#!/usr/bin/env bash
REMOTEWIZ_HOME="${REMOTEWIZ_HOME:-$HOME/.remote-wiz}"
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"

case "${1:-}" in
  configure)
    exec "$SCRIPT_DIR/remotewiz-configure"
    ;;
  help|--help|-h)
    echo ""
    printf "  \033[1mRemoteWiz\033[0m â€” remote Claude Code controller\n"
    echo ""
    echo "  Usage:"
    echo "    remotewiz              Start the server"
    echo "    remotewiz configure    Interactive setup wizard"
    echo "    remotewiz help         Show this help"
    echo ""
    echo "  Environment:"
    echo "    REMOTEWIZ_HOME         Install directory (default: ~/.remote-wiz)"
    echo ""
    ;;
  "")
    cd "$REMOTEWIZ_HOME" && exec node dist/index.js
    ;;
  *)
    echo "Unknown command: $1"
    echo "Run 'remotewiz help' for usage."
    exit 1
    ;;
esac
